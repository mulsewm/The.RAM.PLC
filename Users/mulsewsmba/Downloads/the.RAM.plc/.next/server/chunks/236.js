exports.id=236,exports.ids=[236],exports.modules={1592:(e,t,a)=>{"use strict";a.d(t,{G:()=>o,y:()=>l});var s=a(60687),r=a(43210),n=a(51060);let i=(0,r.createContext)(void 0);function l({children:e}){let[t,a]=(0,r.useState)([]),[l,o]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null),[p,u]=(0,r.useState)({totalApplications:0,newApplications:0,approvedApplications:0,rejectedApplications:0,averageReviewTime:"0 days"}),m=[{id:"1",fullName:"John Doe",email:"john@example.com",company:"Acme Inc",phone:"+1234567890",country:"United States",expertise:["Software Development","Cloud Infrastructure"],businessType:"Technology",message:"Looking forward to partnering with you!",status:"New",notes:[],attachments:[],statusHistory:[],createdAt:new Date(Date.now()-6048e5).toISOString(),updatedAt:new Date(Date.now()-6048e5).toISOString()},{id:"2",fullName:"Jane Smith",email:"jane@example.com",company:"Tech Solutions",phone:"+1987654321",country:"Canada",expertise:["Marketing","Sales"],businessType:"Consulting",message:"Interested in distribution partnership",status:"Under Review",notes:[{id:"1",content:"Scheduled initial call",createdAt:new Date().toISOString(),createdBy:"admin"}],attachments:[],statusHistory:[],createdAt:new Date(Date.now()-12096e5).toISOString(),updatedAt:new Date(Date.now()-1728e5).toISOString()},{id:"3",fullName:"Robert Johnson",email:"robert@example.com",company:"Global Traders",phone:"+44123456789",country:"United Kingdom",expertise:["Logistics","Supply Chain"],businessType:"Distribution",message:"We have an established network in Europe",status:"Approved",notes:[],attachments:[],statusHistory:[],createdAt:new Date(Date.now()-2592e6).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()},{id:"4",fullName:"Maria Garcia",email:"maria@example.com",company:"Innovate Design",phone:"+34987654321",country:"Spain",expertise:["Product Design","UX/UI"],businessType:"Creative Agency",message:"Would like to discuss potential collaboration",status:"Rejected",notes:[{id:"2",content:"Not aligned with our current needs",createdAt:new Date().toISOString(),createdBy:"admin"}],attachments:[],statusHistory:[],createdAt:new Date(Date.now()-3888e6).toISOString(),updatedAt:new Date(Date.now()-432e6).toISOString()}],h=async()=>{o(!0),c(null);try{try{let e=(await n.A.get("/api/partnerships")).data.applications;if(e&&e.length>0&&JSON.stringify(e)!==JSON.stringify(t)){a(e);let t=e.filter(e=>"New"===e.status).length,s=e.filter(e=>"Approved"===e.status).length,r=e.filter(e=>"Rejected"===e.status).length;u({totalApplications:e.length,newApplications:t,approvedApplications:s,rejectedApplications:r,averageReviewTime:"2.5 days"})}else throw Error("No data from API")}catch(r){console.log("Using mock data instead of API",r),a(m);let e=m.filter(e=>"New"===e.status).length,t=m.filter(e=>"Approved"===e.status).length,s=m.filter(e=>"Rejected"===e.status).length;u({totalApplications:m.length,newApplications:e,approvedApplications:t,rejectedApplications:s,averageReviewTime:"2.5 days"})}}catch(e){c("Failed to fetch applications"),console.error(e)}finally{o(!1)}},g=async e=>{try{return(await n.A.get(`/api/partnerships/${e}`)).data}catch(e){return c("Failed to fetch application details"),console.error(e),null}},x=async(e,t,s)=>{try{return await n.A.put(`/api/partnerships/${e}/status`,{status:t,notes:s,userId:"current-user"}),a(a=>a.map(a=>a.id===e?{...a,status:t,updatedAt:new Date().toISOString()}:a)),!0}catch(e){return c("Failed to update application status"),console.error(e),!1}},f=async(e,t)=>{try{return await n.A.post(`/api/partnerships/${e}/notes`,{content:t,userId:"current-user"}),!0}catch(e){return c("Failed to add note"),console.error(e),!1}},y=async(e,t,a)=>{try{let s=new FormData;return s.append("file",t),a&&s.append("description",a),s.append("userId","current-user"),await n.A.post(`/api/partnerships/${e}/attachments`,s,{headers:{"Content-Type":"multipart/form-data"}}),!0}catch(e){return c("Failed to upload attachment"),console.error(e),!1}};return(0,r.useRef)(!1),(0,r.useCallback)(async()=>{await h()},[h]),(0,s.jsx)(i.Provider,{value:{applications:t,isLoading:l,error:d,fetchApplications:h,getApplicationById:g,updateApplicationStatus:x,addNote:f,uploadAttachment:y,stats:p},children:e})}function o(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("usePartnership must be used within a PartnershipProvider");return e}},9855:(e,t,a)=>{Promise.resolve().then(a.bind(a,97786))},17090:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var s=a(60687),r=a(43210),n=a(85814),i=a.n(n),l=a(16189),o=a(96241),d=a(49625),c=a(38313),p=a(41312),u=a(84027),m=a(10022),h=a(11860),g=a(12941),x=a(40083),f=a(51060),y=a(52581);let w=(0,r.createContext)(void 0);function b({children:e}){let[t,a]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[o,d]=(0,r.useState)(!1),c=(0,l.useRouter)(),p=async()=>{try{i(!0);let e=await f.A.get("/api/auth/me");return a(e.data.user),d(!0),!0}catch(e){return a(null),d(!1),!1}finally{i(!1)}},u=async(e,t)=>{try{i(!0);let s=await f.A.post("/api/auth/login",{email:e,password:t});return a(s.data.user),d(!0),y.oR.success("Logged in successfully"),!0}catch(e){return y.oR.error(e.response?.data?.error||"Login failed"),!1}finally{i(!1)}},m=async()=>{try{i(!0),await f.A.post("/api/auth/logout"),a(null),d(!1),c.push("/login"),y.oR.success("Logged out successfully")}catch(e){y.oR.error("Logout failed")}finally{i(!1)}};return(0,s.jsx)(w.Provider,{value:{user:t,isLoading:n,isAuthenticated:o,login:u,logout:m,checkAuth:p},children:e})}var j=a(1592),A=a(92892),v=a(13742),N=a.n(v),S=a(53321);function D({children:e}){return(0,s.jsx)(b,{children:(0,s.jsxs)(R,{children:[e,(0,s.jsx)(S.default,{})]})})}function R({children:e}){let t=(0,l.usePathname)();(0,l.useRouter)();let{user:a,isLoading:n,isAuthenticated:f,logout:b}=function(){let e=(0,r.useContext)(w);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}(),v=async()=>{try{await b(),y.oR.success("Successfully logged out")}catch(e){console.error("Logout error:",e),y.oR.error("Failed to log out. Please try again.")}},[S,D]=(0,r.useState)(!1);if(n||!f)return(0,s.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,s.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})});let R=[{name:"Dashboard",href:"/admin",icon:d.A},{name:"Partnership Applications",href:"/admin/partnerships",icon:c.A},{name:"User Management",href:"/admin/users",icon:p.A},{name:"Settings",href:"/admin/settings",icon:u.A},{name:"Audit Logs",href:"/admin/audit-logs",icon:m.A}];return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:N().className,children:(0,s.jsx)(A.ThemeProvider,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[(0,s.jsxs)("div",{className:"lg:hidden fixed top-0 left-0 w-full bg-white dark:bg-gray-800 z-50 flex items-center justify-between p-4 border-b",children:[(0,s.jsx)(i(),{href:"/admin",className:"font-bold text-xl text-teal-600",children:"the.RAM.plc Admin"}),(0,s.jsx)("button",{onClick:()=>D(!S),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:S?(0,s.jsx)(h.A,{size:24}):(0,s.jsx)(g.A,{size:24})})]}),(0,s.jsx)("div",{className:`fixed inset-0 z-40 ${S?"block":"hidden"} bg-black/50 lg:hidden`,onClick:()=>D(!1)}),(0,s.jsxs)("div",{className:`fixed top-0 left-0 h-full bg-white dark:bg-gray-800 w-64 shadow-lg transform transition-transform duration-300 ease-in-out z-40 ${S?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,s.jsx)("div",{className:"p-6 border-b",children:(0,s.jsx)(i(),{href:"/admin",className:"font-bold text-xl text-teal-600",children:"the.RAM.plc Admin"})}),(0,s.jsx)("nav",{className:"mt-6 px-4",children:(0,s.jsx)("ul",{className:"space-y-2",children:R.map(e=>{let a=t===e.href||t.startsWith(`${e.href}/`);return(0,s.jsx)("li",{children:(0,s.jsxs)(i(),{href:e.href,className:`flex items-center p-3 rounded-md transition-colors ${a?"bg-teal-50 text-teal-600 dark:bg-teal-900/20 dark:text-teal-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[(0,s.jsx)(e.icon,{size:20,className:"mr-3"}),(0,s.jsx)("span",{children:e.name}),a&&(0,s.jsx)("div",{className:"absolute left-0 w-1 h-8 bg-teal-600 dark:bg-teal-400 rounded-r-md"})]})},e.name)})})}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 w-full p-4 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:a?.name||"Admin User"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:a?.email||"admin@example.com"})]})]}),(0,s.jsxs)("nav",{className:"grid items-start px-2 text-sm font-medium",children:[(0,s.jsxs)(i(),{href:"/admin",className:(0,o.cn)("flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-accent","/admin"===t?"bg-accent":"transparent"),children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Dashboard"})]}),a?.role&&["ADMIN","SUPER_ADMIN"].includes(a.role)&&(0,s.jsxs)(i(),{href:"/admin/users",className:(0,o.cn)("flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-accent","/admin/users"===t?"bg-accent":"transparent"),children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Users"})]}),(0,s.jsxs)(i(),{href:"/admin/partnerships",className:(0,o.cn)("flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-accent","/admin/partnerships"===t?"bg-accent":"transparent"),children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Partnerships"})]}),a?.role&&["ADMIN","SUPER_ADMIN"].includes(a.role)&&(0,s.jsxs)(i(),{href:"/admin/settings",className:(0,o.cn)("flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-accent","/admin/settings"===t?"bg-accent":"transparent"),children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Settings"})]}),a?.role&&["ADMIN","SUPER_ADMIN"].includes(a.role)&&(0,s.jsxs)(i(),{href:"/admin/audit-logs",className:(0,o.cn)("flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-accent","/admin/audit-logs"===t?"bg-accent":"transparent"),children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Audit Logs"})]}),(0,s.jsxs)("button",{onClick:v,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-left hover:bg-accent mt-4 text-red-500",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Logout"})]})]})]})]}),(0,s.jsx)("div",{className:"lg:pl-64 pt-16 lg:pt-0",children:(0,s.jsxs)(j.y,{children:[(0,s.jsx)("main",{className:"p-6",children:e}),(0,s.jsxs)("footer",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:["\xa9 ",new Date().getFullYear()," the.RAM.plc. All rights reserved."]})]})})]})})})})}},46807:(e,t,a)=>{Promise.resolve().then(a.bind(a,17090))},55192:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l});var s=a(60687),r=a(43210),n=a(96241);let i=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},97786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mulsewsmba/Downloads/the.RAM.plc/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mulsewsmba/Downloads/the.RAM.plc/app/admin/layout.tsx","default")}};